<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,500&amp;subset=latin-ext,vietnamese" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Dancing+Script:400,700&amp;subset=vietnamese" rel="stylesheet">
  <meta name="google-site-verification" content="8zqeFQNuNAWS7ye6oN69hdEeYC_RsDyAlhht79xtAQo" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/splice-experiment-results/assets/img/banner.png" />

  

  <title>
    
      Package legion Experiment run1 results | Splice Experiment Results
    
  </title>

  

  <!-- page's cover -->
  
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1234">
    <meta property="og:image:height" content="592">
  

  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
  

  <link rel="shortcut icon" type="image/x-icon" href="/splice-experiment-results/assets/img/favicon.ico">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="/splice-experiment-results/assets/css/main.css">
  <link rel="stylesheet" href="/splice-experiment-results/assets/css/thi_scss.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;400;600&display=swap" rel="stylesheet"> 

  

  

  <link rel="stylesheet" href="/splice-experiment-results/assets/css/syntax.css">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/splice-experiment-results/feed.xml">
  <link rel="sitemap" type="application/xml" title="Sitemap" href="/splice-experiment-results/sitemap.xml">
  
  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Package legion Experiment run1 results" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I want to write it down, and for it to be pretty." />
<meta property="og:description" content="I want to write it down, and for it to be pretty." />
<link rel="canonical" href="http://localhost:4000/splice-experiment-results/results/run1/legion/" />
<meta property="og:url" content="http://localhost:4000/splice-experiment-results/results/run1/legion/" />
<meta property="og:site_name" content="Splice Experiment Results" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-12T23:46:03-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Package legion Experiment run1 results" />
<script type="application/ld+json">
{"headline":"Package legion Experiment run1 results","dateModified":"2022-03-12T23:46:03-07:00","datePublished":"2022-03-12T23:46:03-07:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/splice-experiment-results/results/run1/legion/"},"url":"http://localhost:4000/splice-experiment-results/results/run1/legion/","description":"I want to write it down, and for it to be pretty.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
	<header>
<link rel='stylesheet' href='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.css'>
<link rel='stylesheet' href='https://cdn.datatables.net/responsive/1.0.4/css/dataTables.responsive.css'>
</header>

<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.css'>
<link rel='stylesheet' href='https://cdn.datatables.net/responsive/1.0.4/css/dataTables.responsive.css'>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200;400;600&display=swap" rel="stylesheet"> 

<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-coy.min.css" rel="stylesheet" type="text/css">

<style>
body { 
  font-size: 140%; 
}

.loglink {
  cursor: pointer;
}

.pagination li.active a {
  font-size: 12px !important;  
}

div.dataTables_filter label {
    font-weight: normal;
    white-space: nowrap;
    text-align: left;
    font-size: 14px !important;
}

div.dataTables_length label {
    font-weight: normal;
    text-align: left;
    white-space: nowrap;
    font-size: 12px !important;
}

h3 {
  font-family"Source Sans Pro", sans-serif !important;
  font-size: 40.8px !important;
  font-weight: 700 !important;
  padding-bottom:10px !important;
}


h2 {
  font-family"Source Sans Pro", sans-serif !important;
  font-size: 28.8px !important;
  font-weight: 700 !important;
  padding-bottom:10px !important;
}

table caption {
	padding: .5em 0;
}

table.dataTable th,
table.dataTable td {
  white-space: nowrap;
}

tr.group,
tr.group:hover {
    background-color: #ddd !important;
}
</style>

  <div class="container">
    <div id="post-info">
      <h3>Package legion Experiment run1 results</h3>
      <span>
        Updated on
        <span style="display: initial;font-size:16px" class="cat-class">March 12, 2022</span>
        
          
          
        <a style="float:right" href="https://github.com/buildsi/splice-experiment-results/edit/main/_results/run1/legion/index.md" target="_blank">üóíÔ∏è Edit on GitHub</a>
        <br> <a style="float:left" href="/splice-experiment-results/"><< Home</a>
      </span>
    </div>

    <div class="divider"></div>
    <div class="row thi-post">
      <div class="col s12">
        

 
        <br>
        <p>Welcome to the results page! This page has build or splice results, along with predictions for the things we could successfully build or splice, along with a table of full results and logs. Logs are important because some jobs might not have ever produced an output file, and this is because HPC is terrible. For this first round, we are able to represent the results in a single data structure (small enough for GitHub) however with more testers we (Vanessa) will need to refactor the interface again to break apart the results into smaller pieces.</p>

        <h2>Plot of Outcomes</h2>

        <p>This plot shows the top level splice and build outcomes, meaning before we get to any kind of prediction. For example, If a package or splice didn't concretize we will see it here. The labels in the first table below represent the values you'll find in the plot. Note that not every label might show up in the table, e.g., the value of 0 for "combination-not-run" is added to all results.</p>
        <p>
          <table class="table table-bordered table-hover dt-responsive display dataTable no-footer dtr-inline">
            <thead>
              <tr>
                <td>Outcome</td>
                <td>Graph Number</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>combination-not-run</td>
                <td>0</td>
              </tr>
                <tr><td>splice-success</td><td>1</td></tr><tr><td>splice-install-failed</td><td>2</td></tr><tr><td>rewiring-failed</td><td>3</td></tr> 
            </tbody>
          </table><br>

        <p>Across an experiment, we have multiple testers. However, sometimes there is a failure unrelated to the tester. For example, a concretization fails, spack can't install
        the package, and then we can't be sure if the splice failed (or otherwise had a bad outcome) or if it's spack. This is a visualization of the outcomes above, colored by the
        values indicated. E.g., if you only see one color, this means there is only one outcome. The package name (experiment) is in the column, and versions are in rows.<span style="font-weight:600">This plot does not hold any prediction information, it only shows statuses of being able to build, splice, etc.</span></p>
        
        <a href="/splice-experiment-results/results/run1/legion//run1-legion.pdf">Download PDF</a> |           
        <a href="/splice-experiment-results/results/run1/legion//run1-legion.png">Download PNG</a> |           
        <a href="/splice-experiment-results/results/run1/legion//run1-legion.svg">Download SVG</a>           
        <img src="/splice-experiment-results/results/run1/legion/run1-legion.svg"/>

        <h2>Predictions</h2>

          <p>Remember that the predictions are already a biased set because the can ONLY include finished binaries/libraries from which we can derive predictions. E.g., a spack failure to build or splice or some transient error that makes the job exit produces no binaries or libraries and it cannot be represented here. We can only make predictions on successful splices, and we can only make predictions given that a package can output some combination of binaries and/or libraries needed by a predictor. A prediction is not a prediction for a successful build or splice, but rather GIVEN a successful build or splice, do we think the ABI compatibility will hold? Thus, if there are no successful builds or splices, we have no predictions.</p>
        <p><span style="font-weight:600">Important!</span> Since we have many libraries and binaries within each package and splice, the scores here represent a value between 0 and 1 that are the total predicted to work / the total predictions. E.g., a value of "1" says "out of all the predictions made across binaries and libraries, we think they will ALL work. A value of 0.5 says we predict about half of them to work. We have to do this because there are a variable number of predictions for any given package and dependency splice. In the case of the "spack-test" predictor, this is the actual results of running the spack test "package" so it's less a prediction and more a ground truth. And since there is only one spack test run per package and dependency, this value is derived from that one run.</p>

        <h4>Sorry we couldn't make any predictions for libabigail</h4>
                   
                   
                   
        

        <h4>Spack Test</h4>
        <a href="/splice-experiment-results/results/run1/legion//spack-test-run1-legion.pdf">Download Spack Test PDF</a> |           
        <a href="/splice-experiment-results/results/run1/legion//spack-test-run1-legion.png">Download Spack Test PNG</a> |           
        <a href="/splice-experiment-results/results/run1/legion//spack-test-run1-legion.svg">Download Spack Test SVG</a> |           
        <img src="/splice-experiment-results/results/run1/legion/spack-test-run1-legion.svg"/>

        <h4>Sorry we couldn't make any predictions for Symbolator</h4>
                   
                   
                   
        

        <h2>Results</h2>
        <p>Since results (and outputs) can vary across testers, we provide an interactive table here for you to explore instead of trying to shove them into a visualization. For each row, you can click the "+" to expand to see more data. Try doing a search for a result type or predictor of choice in the search box at the top right. The raw data is provided alongside each results directory, so you are free to grab it to generate a custom visualization to your liking.</p>

  <table id="results-table"  class="table table-hover table-bordered display" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th></th>
            <th>Tester</th>
            <th>Package</th>
            <th>Splice</th>
            <th>Binary</th>
            <th>Library</th>
            <th>Prediction</th>
            <th>Message</th>
            <th>Return Code</th>
            <th>Command</th>
            <th>Outcome</th>
        </tr>
     </thead>      
      </table>
      <hr> 

        <h2>Logs</h2>        

        <p>Existing experiment logs includes logs that are matched to existing output results (e.g., an experiment.json). Missing experiments did not generate an experiment.json that we can parse.</p>

        <div class="thi-columns">

        
        <h4>Existing Experiments</h4>   
        <div id="existing-logs"></div>

        
        </div>

      </div>
    </div>

    <div class="tag-list">
      
      
      
      <a class="tag-chip" href="/splice-experiment-results/tags#package"><div class="chip z-depth-1">package</div></a>
      
    </div>
    <form action="/splice-experiment-results/search" method="get">
	<input type="search" name="q"  placeholder="Search for..." autofocus>
	<input type="submit" value="Search" style="display: none;">
</form>

  </div>

<script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>

<script>
$(document).ready(function() {

  function open_log() {
     var logname = $(this).attr('data-id')
     var logtype = $(this).attr('data-type')
     var logurl = $(this).attr('data-url').replace("/splice-experiment-results", "")
     var url = "http://localhost:4000/splice-experiment-results/logviewer/?name=" + logname + "&type=" + logtype + "&url=" + logurl
     console.log(url)
     window.open(url, '_blank');     

  }
  

  
  $.getJSON("logs-existing.json", function(logs) {
     $.each(logs, function(logname, values) {
        $.each(values, function(logtype, value) {
          $("#existing-logs").append('<a class="loglink" data-type="' + logtype +'" data-url="/splice-experiment-results/results/run1/legion/logs-existing.json" data-id="' + logname +'">' + logtype + ": " + logname + '</a><br>')
        })
      })
     $(".loglink").click(open_log)
  });

  $.getJSON("results-list.json", function(data) {

     var results = []

     // Flatten data
     $.each(data, function(tester, resultlist){
         $.each(resultlist, function(i, result){
             result['tester'] = tester
             result['prediction'] = result['prediction'] || null  
             result['message'] = result['message'] || null  
             result['return_code'] = result['return_code'] || null  
             result['command'] = result['command'] || null  
             if (result['binary']) {
                 result['binary'] = result['binary'].split(/[\\/]/).pop();        
             } else {
                result['binary'] = null
             }
             if (result['lib']) {
                 result['lib'] = result['lib'].split(/[\\/]/).pop();
             } else {
                 result['lib'] = null
             }
             results.push(result)
         })
     })
     console.log(results);
     
     var table = $('#results-table').DataTable({
      data: results,
        order: [[ 0, 'asc' ]],
        columns: [{"className":      'dt-control',
                     "orderable":      false,
                     "data":           null,
                     "defaultContent": '‚ûïÔ∏è'},
                  { data: 'tester', title: "Tester" },
                  { data: 'package', title: "Package" },
                  { data: 'splice', title: "Splice" },
                  { data: 'binary', title: "Binary" },
                  { data: 'lib', title: "Library" },
                  { data: 'prediction', title: "Prediction", "visible": false},
                  { data: 'message', title: "Message", "visible": false},
                  { data: 'return_code', title: "Return Code", "visible": false},
                  { data: 'command', title: "Command", "visible": false},
                  { data: 'result', title: "Outcome" },
                ],
      columnDefs: [
          {"visible": false, "targets": [6,7,8,9]}
        ],

        "displayLength": 25,

        // Color tests by status (pass or fail)
        "rowCallback": function(row, data) {
             if (data.prediction == true ) {
                  $('td:eq(1)', row).css('background-color', 'darkgreen').css('color', 'white');
             } else {             
                  $('td:eq(1)', row).css('background-color', 'crimson').css('color', 'white');
             }
        },
      });


   table.on('click', 'td.dt-control', function () {
        var tr = $(this).closest('tr');
        var row = table.row( tr );
 
        if ( row.child.isShown() ) {
            // This row is already open - close it
            row.child.hide();
            tr.removeClass('shown');
        }
        else {
            // Open this row
            row.child( format(row.data()) ).show();
            tr.addClass('shown');
        }
     });

   });

function format ( d ) {
    // `d` is the original data object for the row
    if (!d.return_code && !d.message && !d.command) {
        return "<p>There is no additional data for this result.</p>"
    }
    cells = '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">';
    if (d.return_code != null && d.return_code != undefined && d.return_code != "") {

        cells += '<tr>'+
            '<td>Return Code</td>'+
            '<td>'+d.return_code+'</td>'+
        '</tr>'
    }
    if (d.message) {
        cells += '<tr>'+
            '<td>Message</td>'+
            '<td><pre><code class="language-shell">'+ d.message+'</code></pre></td>'+
        '</tr>'       
    }
    if (d.command) {
        cells += '<tr>'+
            '<td>Command</td>'+
            '<td>'+ d.command +'</td>'+
        '</tr>'    
    }
    cells += '</table>';
    return cells
}

});
</script>

	<script src="/splice-experiment-results/assets/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript">
  jQuery(document).ready(function($){
    // browser window scroll (in pixels) after which the "back to top" link is shown
    var offset = 300,
      //browser window scroll (in pixels) after which the "back to top" link opacity is reduced
      offset_opacity = 1200,
      //duration of the top scrolling animation (in ms)
      scroll_top_duration = 700,
      //grab the "back to top" link
      $back_to_top = $('.cd-top');

    //hide or show the "back to top" link
    $(window).scroll(function(){
      ( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
      // if( $(this).scrollTop() > offset_opacity ) { 
      //  $back_to_top.addClass('cd-fade-out');
      // }
    });

    //smooth scroll to top
    $back_to_top.on('click', function(event){
      event.preventDefault();
      $('body,html').animate({
        scrollTop: 0 ,
        }, scroll_top_duration
      );
    });

  });
</script>
<style type="text/css">
.cd-top {
  display: inline-block;
  height: 50px;
  width: 50px;
  position: fixed;
  bottom: 2%;
  right: 2%;
  border-radius: 40px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
  /* image replacement properties */
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;
  background: #bbb url(/splice-experiment-results/assets/img/cd-top-arrow.svg) no-repeat center 50%;
  visibility: hidden;
  opacity: 0;
  -webkit-transition: opacity .3s 0s, visibility 0s .3s;
  -moz-transition: opacity .3s 0s, visibility 0s .3s;
  transition: opacity .3s 0s, visibility 0s .3s;
}
.cd-top.cd-is-visible, .cd-top.cd-fade-out, .no-touch .cd-top:hover {
  -webkit-transition: opacity .3s 0s, visibility 0s 0s;
  -moz-transition: opacity .3s 0s, visibility 0s 0s;
  transition: opacity .3s 0s, visibility 0s 0s;
}
.cd-top.cd-is-visible {
  /* the button becomes visible */
  visibility: visible;
  opacity: 1;
}
.cd-top.cd-fade-out {
  /* if the user keeps scrolling down, the button is out of focus and becomes less visible */
  opacity: .5;
}
.no-touch .cd-top:hover {
  background-color: #e86256;
  opacity: 1;
}
</style>

<a href="#0" class="cd-top">Top</a>

	<footer class="page-footer teal">
  <div class="footer-copyright" style="background-color:transparent !important">
    <div class="container text-white">
         <a class="waves-effect" href="/splice-experiment-results/">Home</a> | <a class="waves-effect" href="/splice-experiment-results/tags">Tags</a> | <a class="waves-effect" href="/splice-experiment-results/categories">Categories</a> | <a class="waves-effect" href="https://github.com/buildsi/splice-experiment-results">GitHub</a>
    </div>
  </div>
</footer>

<script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>





<script src='https://cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js'></script>
<script src='https://cdn.datatables.net/plug-ins/f2c75b7247b/integration/bootstrap/3/dataTables.bootstrap.js'></script>
<script src='https://cdn.datatables.net/responsive/1.0.4/js/dataTables.responsive.js'></script>

<script src="/splice-experiment-results/assets/js/main.js"></script>

</body>
</html>